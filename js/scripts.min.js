window.library=function(t,e){"use strict";var n,s,a,i={},r=function(t,e){t=t.split(" ");for(var n=0;n<t.length;n++)e(t[n],n)},o=function(){return t.addEventListener?"ontouchstart"in t?"touchstart":"click":"click"};return e.documentElement.classList?(n=function(t,e){return t.classList.contains(e)},s=function(t,e){t.classList.add(e)},a=function(t,e){t.classList.remove(e)}):(n=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},s=function(t,e){i.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},a=function(t,e){i.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)*"+e+"(\\s|$)*","g"),""))}),i.setUrl=function(t,e){"pushState"in history?history.pushState(null,null,t+e):location.hash=library.slugify(data_title)},i.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},i.hasClass=function(t,e){return n(t,e)},i.addClass=function(t,e){r(e,function(e){s(t,e)})},i.removeClass=function(t,e){r(e,function(e){a(t,e)})},i.attachEvent=function(e,n,s){e&&(t.addEventListener?e.addEventListener(n,s,!1):e.attachEvent("on"+n,s))},i.deviceClick=function(t,e){if(t){t&&!t.length&&this.attachEvent(t,o(),e);for(var n=0;n<t.length;n++)this.attachEvent(t[n],o(),e)}},i.click=function(t,e){t.length||this.attachEvent(t,o(),e);for(var n=0;n<t.length;n++)this.attachEvent(t[n],"click",e)},i.slugify=function(t){return t.toLowerCase().replace(/[^\w ]+-/g,"").replace(/ +/g,"-")},i.zeroPad=function(t,e){var n=e-t.toString().length+1;return Array(+(n>0&&n)).join("0")+t},i.debounce=function(t,e,n){var s;return function(){var a=this,i=arguments;clearTimeout(s),s=setTimeout(function(){s=null,n||t.apply(a,i)},e),n&&!s&&t.apply(a,i)}},i.postJSON=function(t,e,n){var s=new XMLHttpRequest;s.open("POST",e,!0),s.overrideMimeType("application/json; charset=utf-8"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){4===s.readyState&&200===s.status?n(null,s.responseText):4===s.readyState&&200!==s.status&&n(s.responseText)},s.send(t)},i}(window,document),window.mountain=function(t,e){"use strict";function n(){var t=e.getElementById("arm-flag-"+(i-1)),s=e.getElementById("arm-flag-"+i);s&&t&&(s.setAttribute("opacity",1),t.setAttribute("opacity",0)),i++<=14&&setTimeout(n,12)}function s(){var t=e.getElementById("eyes-open"),n=e.getElementById("eyes-shut");n.setAttribute("opacity",0),t.setAttribute("opacity",1),setTimeout(a,8e3)}function a(){var t=e.getElementById("eyes-open"),n=e.getElementById("eyes-shut");n.setAttribute("opacity",1),t.setAttribute("opacity",0),setTimeout(s,200)}if(e.getElementsByTagName("svg")[0]){var i=2;setTimeout(n,2550),setTimeout(a,1200),e.getElementById("rock-man").setAttribute("class","anim"),e.getElementById("mountains-sea").setAttribute("class","anim");var r=e.getElementById("email"),o=e.getElementsByTagName("form")[0],l=(e.getElementsByTagName("button")[0],function(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}),c=function(){var t=l(this.value);t?(o.setAttribute("class","go"),e.getElementById("mouth").setAttribute("opacity",0),e.getElementById("smile").setAttribute("opacity",1)):(o.setAttribute("class",""),e.getElementById("mouth").setAttribute("opacity",1),e.getElementById("smile").setAttribute("opacity",0))};library.attachEvent(r,"keyup",c),library.attachEvent(r,"change",c);var u=e.getElementById("js-msg"),m=function(t){t.preventDefault();var n=l(r.value);n&&(o.setAttribute("style","display:none"),e.getElementById("js-msg").setAttribute("style","display:block"),u.innerHTML='<span class="thanks">Checking *all* the systems...</div>',library.postJSON("email="+r.value,"/post/email",function(t){t?(u.innerHTML='<span class="error">Something went wrong, please try again.</div>',e.getElementById("heart").setAttribute("opacity",0),o.setAttribute("style","display:inline-block")):(e.getElementById("heart").setAttribute("opacity",1),u.innerHTML='<span class="thanks">Thanks &ndash; we\'ll be in touch very soon.</div>')}))};library.attachEvent(o,"submit",m)}}(window,document);